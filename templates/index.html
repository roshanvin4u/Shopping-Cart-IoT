<html>
    <head>
        
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.min.js"></script>
<link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
<script src="{{ url_for('static', filename='js/script.js') }}"></script>
        
        <style>

        </style>
    </head>
    <body>
       <div class="container-fluid" id ="all">
            <div class="row">
                <div class="sidebar col-sm-4 col-md-4 col-lg-4">
            <h4 class = "btn btn-default btn-block">Items Scanned <span class="badge" id = "badge">0</span></h4><br>
            <ul id = "scanned">
            </ul>
             
                </div>
 
            

   
	<div id = "tab-wrap" class="col-sm-8 col-md-8 col-lg-8">
  
    <ul class="nav nav-tabs" role = "tablist" id ="myTab" >
    <li class="active tabToggle"><a href="#firstPanel" role = "presentation" class = "tabAnchor firstPanel text-center" data-color="green" data-toggle = "tab" onclick="changeGreen()">Recipies</a></li>
    <li role = "presentation" ><a class = "tabAnchor secondPanel text-center" href="#secondPanel" data-color="#9d21b2" aria-controls="secondPanel" role="tab" data-toggle="tab" onclick="changeRed()">Related</a></li>
    <li role="presentation"><a href="#thirdPanel" class = "tabAnchor thirdPanel text-center" data-color = "#099323" aria-controls="thirdPanel" role="tab" data-toggle = "tab" onclick="changeBlue()">Sale!</a></li> 
  </ul>



    <div id = "tab-content"class="tab-content">
        <div role = "tabpanel" class="tab-pane active" id = "firstPanel">
           <div class="tabInner">
               <h2></h2>
           </div> <!--tabinner-->
            
        </div><!--tabpanel-->
     <div role = "tabpanel" class="tab-pane" id= "secondPanel">
        <div class="tabInner">
               <h2></h2>
           </div> <!--tabinner-->
        </div><!--tabpanel-->
     
    <div role = "tabpanel" class="tab-pane" id = "thirdPanel">
        <div class="tabInner">
               <h2></h2>
        </div> <!--tabinner-->
            
    </div><!--tabpanel-->
       
       </div>      
</div><!--tabWrap-->
           </div>
        </div>      
    </body>
    <script>
             var socket = io.connect( 'http://127.0.0.1:5000' )
   // capture message
           
           var badge = document.getElementById("badge");
            var scanned = document.getElementById("scanned");
           var badgeCounter = 0;
            var recipie = document.querySelector("#firstPanel .tabInner");
             var related = document.querySelector("#secondPanel .tabInner");
            var sales = document.querySelector("#thirdPanel .tabInner");
   socket.on( 'viewassociations', function( msg ) {
     strData = JSON.parse(msg);
     var color = ["success","info", "warning","danger"];
     try {
         if(strData.items[0]=="None")
         {
             related.innerHTML="<center><div class = 'alert alert-danger'><p>Recommendation not currently available</p></div></center>"
         }
     }
     catch(err) {
         items = JSON.parse(strData)
         related.innerHTML= ""
          for (var i = 0; i< items.items.length;i++){
           
            related.innerHTML+="<center><li class = 'col-xs-6  col-xs-offset-3 list-group-item list-group-item-"+color[i]+"' >"+items.items[i]+"</li></center>";
        }
     }
   } );
   /*socket.on( 'viewproductdetails', function( msg ) {
     strData = JSON.parse(msg);
     var color = ["success","info", "warning","danger"];
     try {
         if (strData.result[0] != "None"){
             scanned.innerHTML+="<li >"+strData.result[0]+"------- $"+strData.result[1]+"</li>";
             badgeCounter++;
             badge.innerHTML = ""+ badgeCounter+"";
         }
     }
     catch(err) {        
            
     }
   } );
   
   socket.on( 'viewrecipe', function( msg ) {
     strData = JSON.parse(msg);
     var color = ["success","info", "warning","danger"];
     try {
         if (strData.result[0] != "None"){
             recipie.innerHTML = "";
             recipie.innerHTML="<h1 >"+strData.result[0]+"</h1>";
             recipie.innerHTML+="<li >"+strData.result[1]+"</li>";
             recipie.innerHTML+="<li >"+strData.result[2]+"</li>";
             recipie.innerHTML+="<li >"+strData.result[3]+"</li>";
         }
     }
     catch(err) {        
            
     }
   } );*/
         
        
    </script>
</html>